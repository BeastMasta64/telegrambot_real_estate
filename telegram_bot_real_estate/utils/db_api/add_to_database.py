from utils.db_api.db_commands import add_item

import json

import asyncio

from utils.db_api.database import create_db


# –ò—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞–º–∏
async def add_estates():
    with open('C:/Users/Kirya/Downloads/jsss.json', 'r', encoding='utf-8') as f:  # –æ—Ç–∫—Ä—ã–ª–∏ —Ñ–∞–π–ª
        text = json.load(f)  # –∑–∞–≥–Ω–∞–ª–∏ –≤—Å–µ –∏–∑ —Ñ–∞–π–ª–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
        for estate in text:
            await add_item(deal_type=estate['deal_type'], estate_type=estate['estate_type'], estate_direction=estate['estate_direction'], otdelka=estate['otdelka'],
                           how_far=estate['how_far'], ploshad_doma=estate['ploshad_doma'], ploshad_uchastka=estate['ploshad_uchastka'], floors=estate['floors'],
                           spalni=estate['spalni'], show_first=estate['show_first'], )


# async def add_items():
#     await add_item(name="ASUS",
#                    category_name="üîå –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞", category_code="Electronics",
#                    subcategory_name="üñ• –ö–æ–º–ø—å—é—Ç–µ—Ä—ã", subcategory_code="PCs",
#                    price=100, photo="-")
#     await add_item(name="DELL",
#                    category_name="üîå –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞", category_code="Electronics",
#                    subcategory_name="üñ• –ö–æ–º–ø—å—é—Ç–µ—Ä—ã", subcategory_code="PCs",
#                    price=100, photo="-")
#     await add_item(name="Apple",
#                    category_name="üîå –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞", category_code="Electronics",
#                    subcategory_name="üñ• –ö–æ–º–ø—å—é—Ç–µ—Ä—ã", subcategory_code="PCs",
#                    price=100, photo="-")
#     await add_item(name="Iphone",
#                    category_name="üîå –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞", category_code="Electronics",
#                    subcategory_name="‚òéÔ∏è –¢–µ–ª–µ—Ñ–æ–Ω—ã", subcategory_code="Phones",
#                    price=100, photo="-")
#     await add_item(name="Xiaomi",
#                    category_name="üîå –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞", category_code="Electronics",
#                    subcategory_name="‚òéÔ∏è –¢–µ–ª–µ—Ñ–æ–Ω—ã", subcategory_code="Phones",
#                    price=100, photo="-")
#     await add_item(name="PewDiePie",
#                    category_name="üõç –£—Å–ª—É–≥–∏ –†–µ–∫–ª–∞–º—ã", category_code="Ads",
#                    subcategory_name="üìπ –ù–∞ Youtube", subcategory_code="Youtube",
#                    price=100, photo="-")
#     await add_item(name="–¢–æ–ø–ª–µ—Å",
#                    category_name="üõç –£—Å–ª—É–≥–∏ –†–µ–∫–ª–∞–º—ã", category_code="Ads",
#                    subcategory_name="üìπ –ù–∞ Youtube", subcategory_code="Youtube",
#                    price=100, photo="-")
#     await add_item(name="–û—Ä–ª—ë–Ω–æ–∫",
#                    category_name="üõç –£—Å–ª—É–≥–∏ –†–µ–∫–ª–∞–º—ã", category_code="Ads",
#                    subcategory_name="üó£ –ù–∞ –í–∫–æ–Ω—Ç–∞–∫—Ç–µ", subcategory_code="VK",
#                    price=100, photo="-")
#     await add_item(name="–ú–î–ö",
#                    category_name="üõç –£—Å–ª—É–≥–∏ –†–µ–∫–ª–∞–º—ã", category_code="Ads",
#                    subcategory_name="üó£ –ù–∞ –í–∫–æ–Ω—Ç–∞–∫—Ç–µ", subcategory_code="VK",
#                    price=100, photo="-")


loop = asyncio.get_event_loop()
loop.run_until_complete(create_db())
loop.run_until_complete(add_estates())
